\draw[thick] (1,1) rectangle (5,9);
\draw[thick] (5,4) rectangle (9,12);

\draw[line width=2] (1.05,0) --node[above]{$X_{i-1}$} (4.95, 0);
\draw[line width=2] (5.05,0) --node[above]{$X_{i}$} (8.95, 0);

\draw<3->[line width=2,darkblue] (3.05, 0.2) -- (5.25,0.2);
\draw<5->[line width=2,darkgreen] (5.25, 0.2) -- (5.75,0.2);
\draw<6->[line width=2,darkred] (5.75, 0.2) -- (6,0.2);
\draw<7->[line width=2,olive] (6, 0.2) -- (6.5,0.2);
\draw<8->[line width=2,darkred] (6.5, 0.2) -- (6.75,0.2);
\draw<9->[line width=2,cyan] (6.75, 0.2) -- (6.95,0.2);


\draw<3->[line width=2,darkblue] (5.05, 0.35) -- (7.25,0.35);
\draw<4->[line width=2,darkred] (7.25, 0.35) -- (7.5,0.35);
\draw<5->[line width=2,darkgreen] (7.5, 0.35) -- (8,0.35);
\draw<7->[line width=2,olive] (8, 0.35) -- (8.5,0.35);
\draw<8->[line width=2,darkred] (8.5, 0.35) -- (8.75,0.35);
\draw<9->[line width=2,cyan] (8.75, 0.35) -- (8.95,0.35);

\draw<2>[ultra thick,opacity=0.5] (1.05,1.05) rectangle (4.95,8.95);
\draw<3>[ultra thick,opacity=0.5] (1.05,1.05) rectangle (7.2,8.95);
\draw<4>[ultra thick,opacity=0.5] (1.05,1.05) rectangle (7.45,8.95);
\draw<5-6>[ultra thick,opacity=0.5] (1.05,1.05) rectangle (7.95,8.95);
\draw<7>[ultra thick,opacity=0.5] (1.05,1.05) rectangle (8.45,8.95);
\draw<8>[ultra thick,opacity=0.5] (1.05,1.05) rectangle (8.7,8.95);
\draw<9>[ultra thick,opacity=0.5] (1.05,1.05) rectangle (8.95,8.95);
\draw<10>[ultra thick,opacity=0.5] (5.05,1.05) rectangle (8.95,8.95);

\draw<11>[ultra thick,opacity=0.5] (5.05,1.05) rectangle (8.95,10.45);
\draw<12>[ultra thick,opacity=0.5] (5.05,1.05) rectangle (8.95,10.7);
\draw<13-14>[ultra thick,opacity=0.5] (5.05,1.05) rectangle (8.95,11.45);
\draw<15>[ultra thick,opacity=0.5] (5.05,1.05) rectangle (8.95,11.95);
\draw<16>[ultra thick,opacity=0.5] (5.05,4.05) rectangle (8.95,11.95);


\draw<11->[line width=2,violet] (0.4,6) -- (0.4,7.5);
\draw<12->[line width=2,darkred] (0.4,7.5) -- (0.4,7.75);
\draw<13->[line width=2,yellow] (0.4,7.75) -- (0.4,8.5);
\draw<14->[line width=2,darkred] (0.4,8.5) -- (0.4,8.75);
\draw<15->[line width=2,orange] (0.4,8.75) -- (0.4,9.25);

\draw<7->[line width=2,olive] (6, 0.2) -- (6.5,0.2);
\draw<8->[line width=2,darkred] (6.5, 0.2) -- (6.75,0.2);
\draw<9->[line width=2,cyan] (6.75, 0.2) -- (6.95,0.2);


\draw<11->[line width=2,violet] (0.6,9) -- (0.6,10.5);
\draw<12->[line width=2,darkred] (0.6,10.5) -- (0.6,10.75);
\draw<13->[line width=2,yellow] (0.6,10.75) -- (0.6,11.5);
\draw<15->[line width=2,orange] (0.6,11.5) -- (0.6,12);


\draw<4->[line width=2,darkred] (7.25, 0.35) -- (7.5,0.35);
\draw<5->[line width=2,darkgreen] (7.5, 0.35) -- (8,0.35);
\draw<7->[line width=2,olive] (8, 0.35) -- (8.5,0.35);
\draw<8->[line width=2,darkred] (8.5, 0.35) -- (8.75,0.35);
\draw<9->[line width=2,cyan] (8.75, 0.35) -- (8.95,0.35);


\draw[line width=2] (0,1) --node[near start,left]{$Y_{i-1}$} (0,9);
\draw[line width=2] (0.2,4) --node[near end,left]{$Y_{i}$} (0.2, 12);

